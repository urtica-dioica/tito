{"version":3,"names":["express_1","cov_1i5ftz71ei","s","require","idCardController_1","authenticate_1","authorize_1","validate_1","idCardSchemas_1","router","Router","idCardController","IdCardController","use","authenticate","requireHR","post","createIdCard","get","listIdCards","getIdCardStats","validateParams","idCardParamsSchema","getIdCard","getQrCodeData","delete","deactivateIdCard","departmentIdParamsSchema","validateBody","generateDepartmentIdCardsSchema","generateDepartmentIdCards","exports","default"],"sources":["/home/kim/tito/server/src/routes/hr/idCardRoutes.ts"],"sourcesContent":["import { Router } from 'express';\nimport { IdCardController } from '../../controllers/hr/idCardController';\nimport { authenticate } from '../../middleware/auth/authenticate';\nimport { requireHR } from '../../middleware/auth/authorize';\nimport { validateParams, validateBody } from '../../middleware/validation/validate';\nimport { idCardParamsSchema, departmentIdParamsSchema, generateDepartmentIdCardsSchema } from '../../middleware/validation/schemas/idCardSchemas';\n\nconst router = Router();\nconst idCardController = new IdCardController();\n\n// Apply authentication and HR admin authorization to all routes\nrouter.use(authenticate);\nrouter.use(requireHR);\n\n/**\n * @route POST /api/v1/hr/id-cards\n * @desc Create ID card for employee\n * @access HR Admin only\n */\nrouter.post(\n  '/',\n  idCardController.createIdCard\n);\n\n/**\n * @route GET /api/v1/hr/id-cards\n * @desc List ID cards with filtering and pagination\n * @access HR Admin only\n */\nrouter.get(\n  '/',\n  idCardController.listIdCards\n);\n\n/**\n * @route GET /api/v1/hr/id-cards/stats\n * @desc Get ID card statistics\n * @access HR Admin only\n */\nrouter.get(\n  '/stats',\n  idCardController.getIdCardStats\n);\n\n/**\n * @route GET /api/v1/hr/id-cards/:id\n * @desc Get ID card by ID\n * @access HR Admin only\n */\nrouter.get(\n  '/:id',\n  validateParams(idCardParamsSchema),\n  idCardController.getIdCard\n);\n\n/**\n * @route GET /api/v1/hr/id-cards/:id/qr-code\n * @desc Get QR code data for ID card\n * @access HR Admin only\n */\nrouter.get(\n  '/:id/qr-code',\n  validateParams(idCardParamsSchema),\n  idCardController.getQrCodeData\n);\n\n/**\n * @route DELETE /api/v1/hr/id-cards/:id\n * @desc Deactivate ID card\n * @access HR Admin only\n */\nrouter.delete(\n  '/:id',\n  validateParams(idCardParamsSchema),\n  idCardController.deactivateIdCard\n);\n\n/**\n * @route POST /api/v1/hr/id-cards/departments/:departmentId/generate\n * @desc Generate ID cards for all employees in a department\n * @access HR Admin only\n */\nrouter.post(\n  '/departments/:departmentId/generate',\n  validateParams(departmentIdParamsSchema),\n  validateBody(generateDepartmentIdCardsSchema),\n  idCardController.generateDepartmentIdCards\n);\n\nexport default router;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,SAAA;AAAA;AAAA,CAAAC,cAAA,GAAAC,CAAA,OAAAC,OAAA;AACA,MAAAC,kBAAA;AAAA;AAAA,CAAAH,cAAA,GAAAC,CAAA,OAAAC,OAAA;AACA,MAAAE,cAAA;AAAA;AAAA,CAAAJ,cAAA,GAAAC,CAAA,OAAAC,OAAA;AACA,MAAAG,WAAA;AAAA;AAAA,CAAAL,cAAA,GAAAC,CAAA,OAAAC,OAAA;AACA,MAAAI,UAAA;AAAA;AAAA,CAAAN,cAAA,GAAAC,CAAA,OAAAC,OAAA;AACA,MAAAK,eAAA;AAAA;AAAA,CAAAP,cAAA,GAAAC,CAAA,OAAAC,OAAA;AAEA,MAAMM,MAAM;AAAA;AAAA,CAAAR,cAAA,GAAAC,CAAA,OAAG,IAAAF,SAAA,CAAAU,MAAM,GAAE;AACvB,MAAMC,gBAAgB;AAAA;AAAA,CAAAV,cAAA,GAAAC,CAAA,OAAG,IAAIE,kBAAA,CAAAQ,gBAAgB,EAAE;AAE/C;AAAA;AAAAX,cAAA,GAAAC,CAAA;AACAO,MAAM,CAACI,GAAG,CAACR,cAAA,CAAAS,YAAY,CAAC;AAAC;AAAAb,cAAA,GAAAC,CAAA;AACzBO,MAAM,CAACI,GAAG,CAACP,WAAA,CAAAS,SAAS,CAAC;AAErB;;;;;AAAA;AAAAd,cAAA,GAAAC,CAAA;AAKAO,MAAM,CAACO,IAAI,CACT,GAAG,EACHL,gBAAgB,CAACM,YAAY,CAC9B;AAED;;;;;AAAA;AAAAhB,cAAA,GAAAC,CAAA;AAKAO,MAAM,CAACS,GAAG,CACR,GAAG,EACHP,gBAAgB,CAACQ,WAAW,CAC7B;AAED;;;;;AAAA;AAAAlB,cAAA,GAAAC,CAAA;AAKAO,MAAM,CAACS,GAAG,CACR,QAAQ,EACRP,gBAAgB,CAACS,cAAc,CAChC;AAED;;;;;AAAA;AAAAnB,cAAA,GAAAC,CAAA;AAKAO,MAAM,CAACS,GAAG,CACR,MAAM,EACN,IAAAX,UAAA,CAAAc,cAAc,EAACb,eAAA,CAAAc,kBAAkB,CAAC,EAClCX,gBAAgB,CAACY,SAAS,CAC3B;AAED;;;;;AAAA;AAAAtB,cAAA,GAAAC,CAAA;AAKAO,MAAM,CAACS,GAAG,CACR,cAAc,EACd,IAAAX,UAAA,CAAAc,cAAc,EAACb,eAAA,CAAAc,kBAAkB,CAAC,EAClCX,gBAAgB,CAACa,aAAa,CAC/B;AAED;;;;;AAAA;AAAAvB,cAAA,GAAAC,CAAA;AAKAO,MAAM,CAACgB,MAAM,CACX,MAAM,EACN,IAAAlB,UAAA,CAAAc,cAAc,EAACb,eAAA,CAAAc,kBAAkB,CAAC,EAClCX,gBAAgB,CAACe,gBAAgB,CAClC;AAED;;;;;AAAA;AAAAzB,cAAA,GAAAC,CAAA;AAKAO,MAAM,CAACO,IAAI,CACT,qCAAqC,EACrC,IAAAT,UAAA,CAAAc,cAAc,EAACb,eAAA,CAAAmB,wBAAwB,CAAC,EACxC,IAAApB,UAAA,CAAAqB,YAAY,EAACpB,eAAA,CAAAqB,+BAA+B,CAAC,EAC7ClB,gBAAgB,CAACmB,yBAAyB,CAC3C;AAAC;AAAA7B,cAAA,GAAAC,CAAA;AAEF6B,OAAA,CAAAC,OAAA,GAAevB,MAAM","ignoreList":[]}