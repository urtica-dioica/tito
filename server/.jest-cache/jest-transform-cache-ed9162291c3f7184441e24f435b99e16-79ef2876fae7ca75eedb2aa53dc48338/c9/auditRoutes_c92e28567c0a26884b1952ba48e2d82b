f103eb1636823fd1217bf716f27d4cfd
"use strict";

/* istanbul ignore next */
function cov_26pn4w6duj() {
  var path = "/home/kim/tito/server/src/routes/audit/auditRoutes.ts";
  var hash = "42b3a61177dd8835d01ffebb4a7e3d0b1965a82b";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/kim/tito/server/src/routes/audit/auditRoutes.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 62
        }
      },
      "1": {
        start: {
          line: 3,
          column: 18
        },
        end: {
          line: 3,
          column: 36
        }
      },
      "2": {
        start: {
          line: 4,
          column: 26
        },
        end: {
          line: 4,
          column: 76
        }
      },
      "3": {
        start: {
          line: 5,
          column: 23
        },
        end: {
          line: 5,
          column: 68
        }
      },
      "4": {
        start: {
          line: 6,
          column: 20
        },
        end: {
          line: 6,
          column: 62
        }
      },
      "5": {
        start: {
          line: 7,
          column: 15
        },
        end: {
          line: 7,
          column: 38
        }
      },
      "6": {
        start: {
          line: 8,
          column: 24
        },
        end: {
          line: 8,
          column: 63
        }
      },
      "7": {
        start: {
          line: 10,
          column: 0
        },
        end: {
          line: 10,
          column: 40
        }
      },
      "8": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 11,
          column: 47
        }
      },
      "9": {
        start: {
          line: 13,
          column: 0
        },
        end: {
          line: 13,
          column: 68
        }
      },
      "10": {
        start: {
          line: 15,
          column: 0
        },
        end: {
          line: 15,
          column: 74
        }
      },
      "11": {
        start: {
          line: 17,
          column: 0
        },
        end: {
          line: 17,
          column: 74
        }
      },
      "12": {
        start: {
          line: 19,
          column: 0
        },
        end: {
          line: 19,
          column: 103
        }
      },
      "13": {
        start: {
          line: 21,
          column: 0
        },
        end: {
          line: 21,
          column: 86
        }
      },
      "14": {
        start: {
          line: 23,
          column: 0
        },
        end: {
          line: 23,
          column: 78
        }
      },
      "15": {
        start: {
          line: 24,
          column: 0
        },
        end: {
          line: 24,
          column: 25
        }
      }
    },
    fnMap: {},
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0
    },
    f: {},
    b: {},
    inputSourceMap: {
      file: "/home/kim/tito/server/src/routes/audit/auditRoutes.ts",
      mappings: ";;AAAA,qCAAiC;AACjC,6EAA0E;AAC1E,qEAAkE;AAClE,+DAA4D;AAE5D,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AACxB,MAAM,eAAe,GAAG,IAAI,iCAAe,EAAE,CAAC;AAE9C,sDAAsD;AACtD,MAAM,CAAC,GAAG,CAAC,2BAAY,CAAC,CAAC;AACzB,MAAM,CAAC,GAAG,CAAC,IAAA,qBAAS,EAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAE9B,+CAA+C;AAC/C,MAAM,CAAC,GAAG,CACR,GAAG,EACH,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,CACnD,CAAC;AAEF,uBAAuB;AACvB,MAAM,CAAC,GAAG,CACR,QAAQ,EACR,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,CACpD,CAAC;AAEF,+BAA+B;AAC/B,MAAM,CAAC,GAAG,CACR,MAAM,EACN,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,CACtD,CAAC;AAEF,uCAAuC;AACvC,MAAM,CAAC,GAAG,CACR,8BAA8B,EAC9B,eAAe,CAAC,oBAAoB,CAAC,IAAI,CAAC,eAAe,CAAC,CAC3D,CAAC;AAEF,qCAAqC;AACrC,MAAM,CAAC,GAAG,CACR,eAAe,EACf,eAAe,CAAC,kBAAkB,CAAC,IAAI,CAAC,eAAe,CAAC,CACzD,CAAC;AAEF,yBAAyB;AACzB,MAAM,CAAC,IAAI,CACT,UAAU,EACV,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC,CACrD,CAAC;AAEF,kBAAe,MAAM,CAAC",
      names: [],
      sources: ["/home/kim/tito/server/src/routes/audit/auditRoutes.ts"],
      sourcesContent: ["import { Router } from 'express';\nimport { AuditController } from '../../controllers/audit/auditController';\nimport { authenticate } from '../../middleware/auth/authenticate';\nimport { authorize } from '../../middleware/auth/authorize';\n\nconst router = Router();\nconst auditController = new AuditController();\n\n// All audit routes require authentication and HR role\nrouter.use(authenticate);\nrouter.use(authorize(['hr']));\n\n// Get audit logs with filtering and pagination\nrouter.get(\n  '/',\n  auditController.getAuditLogs.bind(auditController)\n);\n\n// Get audit statistics\nrouter.get(\n  '/stats',\n  auditController.getAuditStats.bind(auditController)\n);\n\n// Get specific audit log by ID\nrouter.get(\n  '/:id',\n  auditController.getAuditLogById.bind(auditController)\n);\n\n// Get audit logs for a specific record\nrouter.get(\n  '/record/:tableName/:recordId',\n  auditController.getAuditLogsByRecord.bind(auditController)\n);\n\n// Get audit logs for a specific user\nrouter.get(\n  '/user/:userId',\n  auditController.getAuditLogsByUser.bind(auditController)\n);\n\n// Cleanup old audit logs\nrouter.post(\n  '/cleanup',\n  auditController.cleanupOldLogs.bind(auditController)\n);\n\nexport default router;"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "42b3a61177dd8835d01ffebb4a7e3d0b1965a82b"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_26pn4w6duj = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_26pn4w6duj();
cov_26pn4w6duj().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
const express_1 =
/* istanbul ignore next */
(cov_26pn4w6duj().s[1]++, require("express"));
const auditController_1 =
/* istanbul ignore next */
(cov_26pn4w6duj().s[2]++, require("../../controllers/audit/auditController"));
const authenticate_1 =
/* istanbul ignore next */
(cov_26pn4w6duj().s[3]++, require("../../middleware/auth/authenticate"));
const authorize_1 =
/* istanbul ignore next */
(cov_26pn4w6duj().s[4]++, require("../../middleware/auth/authorize"));
const router =
/* istanbul ignore next */
(cov_26pn4w6duj().s[5]++, (0, express_1.Router)());
const auditController =
/* istanbul ignore next */
(cov_26pn4w6duj().s[6]++, new auditController_1.AuditController());
// All audit routes require authentication and HR role
/* istanbul ignore next */
cov_26pn4w6duj().s[7]++;
router.use(authenticate_1.authenticate);
/* istanbul ignore next */
cov_26pn4w6duj().s[8]++;
router.use((0, authorize_1.authorize)(['hr']));
// Get audit logs with filtering and pagination
/* istanbul ignore next */
cov_26pn4w6duj().s[9]++;
router.get('/', auditController.getAuditLogs.bind(auditController));
// Get audit statistics
/* istanbul ignore next */
cov_26pn4w6duj().s[10]++;
router.get('/stats', auditController.getAuditStats.bind(auditController));
// Get specific audit log by ID
/* istanbul ignore next */
cov_26pn4w6duj().s[11]++;
router.get('/:id', auditController.getAuditLogById.bind(auditController));
// Get audit logs for a specific record
/* istanbul ignore next */
cov_26pn4w6duj().s[12]++;
router.get('/record/:tableName/:recordId', auditController.getAuditLogsByRecord.bind(auditController));
// Get audit logs for a specific user
/* istanbul ignore next */
cov_26pn4w6duj().s[13]++;
router.get('/user/:userId', auditController.getAuditLogsByUser.bind(auditController));
// Cleanup old audit logs
/* istanbul ignore next */
cov_26pn4w6duj().s[14]++;
router.post('/cleanup', auditController.cleanupOldLogs.bind(auditController));
/* istanbul ignore next */
cov_26pn4w6duj().s[15]++;
exports.default = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjZwbjR3NmR1aiIsImFjdHVhbENvdmVyYWdlIiwicyIsImV4cHJlc3NfMSIsInJlcXVpcmUiLCJhdWRpdENvbnRyb2xsZXJfMSIsImF1dGhlbnRpY2F0ZV8xIiwiYXV0aG9yaXplXzEiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJhdWRpdENvbnRyb2xsZXIiLCJBdWRpdENvbnRyb2xsZXIiLCJ1c2UiLCJhdXRoZW50aWNhdGUiLCJhdXRob3JpemUiLCJnZXQiLCJnZXRBdWRpdExvZ3MiLCJiaW5kIiwiZ2V0QXVkaXRTdGF0cyIsImdldEF1ZGl0TG9nQnlJZCIsImdldEF1ZGl0TG9nc0J5UmVjb3JkIiwiZ2V0QXVkaXRMb2dzQnlVc2VyIiwicG9zdCIsImNsZWFudXBPbGRMb2dzIiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyIvaG9tZS9raW0vdGl0by9zZXJ2ZXIvc3JjL3JvdXRlcy9hdWRpdC9hdWRpdFJvdXRlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IEF1ZGl0Q29udHJvbGxlciB9IGZyb20gJy4uLy4uL2NvbnRyb2xsZXJzL2F1ZGl0L2F1ZGl0Q29udHJvbGxlcic7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tICcuLi8uLi9taWRkbGV3YXJlL2F1dGgvYXV0aGVudGljYXRlJztcbmltcG9ydCB7IGF1dGhvcml6ZSB9IGZyb20gJy4uLy4uL21pZGRsZXdhcmUvYXV0aC9hdXRob3JpemUnO1xuXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcbmNvbnN0IGF1ZGl0Q29udHJvbGxlciA9IG5ldyBBdWRpdENvbnRyb2xsZXIoKTtcblxuLy8gQWxsIGF1ZGl0IHJvdXRlcyByZXF1aXJlIGF1dGhlbnRpY2F0aW9uIGFuZCBIUiByb2xlXG5yb3V0ZXIudXNlKGF1dGhlbnRpY2F0ZSk7XG5yb3V0ZXIudXNlKGF1dGhvcml6ZShbJ2hyJ10pKTtcblxuLy8gR2V0IGF1ZGl0IGxvZ3Mgd2l0aCBmaWx0ZXJpbmcgYW5kIHBhZ2luYXRpb25cbnJvdXRlci5nZXQoXG4gICcvJyxcbiAgYXVkaXRDb250cm9sbGVyLmdldEF1ZGl0TG9ncy5iaW5kKGF1ZGl0Q29udHJvbGxlcilcbik7XG5cbi8vIEdldCBhdWRpdCBzdGF0aXN0aWNzXG5yb3V0ZXIuZ2V0KFxuICAnL3N0YXRzJyxcbiAgYXVkaXRDb250cm9sbGVyLmdldEF1ZGl0U3RhdHMuYmluZChhdWRpdENvbnRyb2xsZXIpXG4pO1xuXG4vLyBHZXQgc3BlY2lmaWMgYXVkaXQgbG9nIGJ5IElEXG5yb3V0ZXIuZ2V0KFxuICAnLzppZCcsXG4gIGF1ZGl0Q29udHJvbGxlci5nZXRBdWRpdExvZ0J5SWQuYmluZChhdWRpdENvbnRyb2xsZXIpXG4pO1xuXG4vLyBHZXQgYXVkaXQgbG9ncyBmb3IgYSBzcGVjaWZpYyByZWNvcmRcbnJvdXRlci5nZXQoXG4gICcvcmVjb3JkLzp0YWJsZU5hbWUvOnJlY29yZElkJyxcbiAgYXVkaXRDb250cm9sbGVyLmdldEF1ZGl0TG9nc0J5UmVjb3JkLmJpbmQoYXVkaXRDb250cm9sbGVyKVxuKTtcblxuLy8gR2V0IGF1ZGl0IGxvZ3MgZm9yIGEgc3BlY2lmaWMgdXNlclxucm91dGVyLmdldChcbiAgJy91c2VyLzp1c2VySWQnLFxuICBhdWRpdENvbnRyb2xsZXIuZ2V0QXVkaXRMb2dzQnlVc2VyLmJpbmQoYXVkaXRDb250cm9sbGVyKVxuKTtcblxuLy8gQ2xlYW51cCBvbGQgYXVkaXQgbG9nc1xucm91dGVyLnBvc3QoXG4gICcvY2xlYW51cCcsXG4gIGF1ZGl0Q29udHJvbGxlci5jbGVhbnVwT2xkTG9ncy5iaW5kKGF1ZGl0Q29udHJvbGxlcilcbik7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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